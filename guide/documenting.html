
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Documenting Experiments" />
<meta property="og:type" content="website" />
<meta property="og:url" content="guide/documenting.html" />
<meta property="og:site_name" content="LensKit" />
<meta property="og:description" content="When publishing results — either formally, through a venue such as ACM RecSys, or informally in your organization, it’s important to clearly and completely specify how the evaluation and algorithms..." />
<meta name="description" content="When publishing results — either formally, through a venue such as ACM RecSys, or informally in your organization, it’s important to clearly and completely specify how the evaluation and algorithms..." />

    <title>Documenting Experiments &#8212; LensKit 2025.3.0a4.dev637+g55e2d4d4 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=9d9b0268" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=a7735ef1"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'guide/documenting';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://lkpy.lenskit.org/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2024.0dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="canonical" href="https://lkpy.lenskit.org/latest/guide/documenting.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Logging and Progress Reporting" href="logging.html" />
    <link rel="prev" title="Evaluating Rating Predictions" href="evaluation/predictions.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2025.3.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/LKLogo2.png" class="logo__image only-light" alt="LensKit 2025.3.0a4.dev637+g55e2d4d4 documentation - Home"/>
    <img src="../_static/LKLogo2.png" class="logo__image only-dark pst-js-only" alt="LensKit 2025.3.0a4.dev637+g55e2d4d4 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../releases/index.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../research/index.html">
    Research
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../catalogs.html">
    Indices
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lenskit/lkpy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://recsys.social/@LensKit" title="Mastodon" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/lenskit.org" title="BlueSky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">BlueSky</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../releases/index.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../research/index.html">
    Research
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../catalogs.html">
    Indices
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lenskit/lkpy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://recsys.social/@LensKit" title="Mastodon" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/lenskit.org" title="BlueSky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">BlueSky</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Preliminaries</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing LensKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating from LensKit 0.x</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Fundamentals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="principles.html">Design Goals and Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="queries.html">Queries and Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Recommendation Pipelines</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data/index.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="data/model.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="data/item-lists.html">Item Lists and Collections</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="data/datasets.html">Standard Datasets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="data/movielens.html">MovieLens Data</a></li>

<li class="toctree-l2"><a class="reference internal" href="data/amazon.html">Amazon Data</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Components</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="conventions.html">Component Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="flexmf.html">Flexible Matrix Factorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorers.html">Scoring Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="rankers.html">Ranking Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="other-components.html">Other Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementing.html">Implementing Components</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Experiments</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="splitting.html">Splitting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch.html">Batch-Running Pipelines</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="evaluation/index.html">Evaluating Recommender Output</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="evaluation/rankings.html">Evaluating Top-N Rankings</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation/predictions.html">Evaluating Rating Predictions</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Documenting Experiments</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Support Code</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging and Progress Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallelism.html">Parallel Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">LensKit CLI</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Documenting Experiments</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="documenting-experiments">
<h1>Documenting Experiments<a class="headerlink" href="#documenting-experiments" title="Link to this heading">#</a></h1>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>This chapter needs to be rewritten for <a class="reference internal" href="../releases/2025.html#id4"><span class="std std-ref">2025.1.1</span></a>.</p>
</div>
<p>When publishing results — either formally, through a venue such as ACM RecSys,
or informally in your organization, it’s important to clearly and completely
specify how the evaluation and algorithms were run.</p>
<p>Since LensKit is a toolkit of individual pieces that you combine into your
experiment however best fits your work, there is not a clear mechanism for
automating this reporting.  This document is to provide guidance for what and
how you should report, and how it maps to the LensKit code you are using.</p>
<section id="common-evaluation-problems-checklist">
<h2>Common Evaluation Problems Checklist<a class="headerlink" href="#common-evaluation-problems-checklist" title="Link to this heading">#</a></h2>
<p>This checklist is to help you make sure that your evaluation and results are
accurately reported.</p>
<ul class="simple">
<li><p>Pass <cite>k</cite> to your ranking metrics with the target list length for your
experiment.  LensKit cannot reliably detect how long you intended to make the
recommendation lists, so you need to specify the intended length to the
metrics in order to correctly account for it.</p></li>
</ul>
</section>
<section id="reporting-algorithms">
<h2>Reporting Algorithms<a class="headerlink" href="#reporting-algorithms" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is still in progress.</p>
</div>
<p>You need to clearly report the algorithms that you have used along with their
hyperparameters.</p>
<p>The algorithm name should be the name of the class that you used (e.g.
<a class="reference internal" href="../api/lenskit.knn.html#lenskit.knn.ItemKNNScorer" title="lenskit.knn.ItemKNNScorer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ItemKNNScorer</span></code></a>). The hyperparameters are the
options specified to the constructor, except for options that only affect
algorithn peformance but not behavior.</p>
<p>For example:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Algorithm        |                                Hyperparameters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="3"><p>ItemKNNScorer    | <span class="math notranslate nohighlight">\(k_\mathrm{max}=20, k_\mathrm{min}=2, s_\mathrm{min}=1.0\times 10^{-3}\)</span></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>ImplicitMFScorer</p></td>
<td><p><span class="math notranslate nohighlight">\(k=50, \lambda_u=0.1, \lambda_i=0.1, w=40\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>If you use a top-N implementation other than the default
<a class="reference internal" href="../api/lenskit.basic.html#lenskit.basic.TopNRanker" title="lenskit.basic.TopNRanker"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopNRanker</span></code></a>, or reconfigure its candidate selector,
also clearly document that.</p>
</section>
<section id="reporting-experimental-setup">
<h2>Reporting Experimental Setup<a class="headerlink" href="#reporting-experimental-setup" title="Link to this heading">#</a></h2>
<p>The important things to document are the data splitting strategy, the target
recommendation list length, and the candidate selection strategy (if something
other than the default of all unrated items is used).</p>
<p>If you use one of LensKit’s built-in splitting strategies from <a class="reference internal" href="../api/splitting.html#module-lenskit.splitting" title="lenskit.splitting"><code class="xref py py-class docutils literal notranslate"><span class="pre">splitting</span></code></a>
without modification, report:</p>
<ul class="simple">
<li><p>The splitting function used.</p></li>
<li><p>The number of partitions or test samples.</p></li>
<li><p>The timestamp or fraction used for temporal splitting.</p></li>
<li><p>The number of users per sample (when using
<a class="reference internal" href="../api/lenskit.splitting.sample_users.html#lenskit.splitting.sample_users" title="lenskit.splitting.sample_users"><code class="xref py py-func docutils literal notranslate"><span class="pre">sample_users()</span></code></a>) or records per sample (when using
<a class="reference internal" href="../api/lenskit.splitting.sample_records.html#lenskit.splitting.sample_records" title="lenskit.splitting.sample_records"><code class="xref py py-func docutils literal notranslate"><span class="pre">sample_records()</span></code></a>).</p></li>
<li><p>When using a user-based strategy (either
<a class="reference internal" href="../api/lenskit.splitting.crossfold_users.html#lenskit.splitting.crossfold_users" title="lenskit.splitting.crossfold_users"><code class="xref py py-func docutils literal notranslate"><span class="pre">crossfold_users()</span></code></a> or
<a class="reference internal" href="../api/lenskit.splitting.sample_users.html#lenskit.splitting.sample_users" title="lenskit.splitting.sample_users"><code class="xref py py-func docutils literal notranslate"><span class="pre">sample_users()</span></code></a>), the test rating selection
strategy (class and parameters), e.g. <code class="docutils literal notranslate"><span class="pre">SampleN(5)</span></code>.</p></li>
</ul>
<p>Any additional pre-processing (e.g. filtering ratings) should also be clearly
described.  If additional test pre-processing is done, such as removing ratings
below a threshold, document that as well.</p>
<p>Since the experimental protocol is implemented directly in Python code,
automated reporting is not practical.</p>
</section>
<section id="reporting-metrics">
<h2>Reporting Metrics<a class="headerlink" href="#reporting-metrics" title="Link to this heading">#</a></h2>
<p>Reporting the metrics themselves is relatively straightforward.  The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">lenskit.bulk.RunAnalysis.measure()</span></code> method returns a results object
contianing the metrics for individual lists, the global metrics, and easy access
(through <code class="xref py py-meth docutils literal notranslate"><span class="pre">list_summary()</span></code>) to summary statistics
of per-list metrics, optionally grouped by keys such as model name.</p>
<p>The following code will produce a table of algorithm scores for hit rate, NDCG
and MRR, assuming that your algorithm identifier is in a column named <code class="docutils literal notranslate"><span class="pre">model</span></code>
and the target list length is in <code class="docutils literal notranslate"><span class="pre">N</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">rla</span> <span class="o">=</span> <span class="n">RunAnalysis</span><span class="p">()</span>
<span class="n">rla</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">Hit</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="n">N</span><span class="p">))</span>
<span class="n">rla</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">NDCG</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="n">N</span><span class="p">))</span>
<span class="n">rla</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">RecipRank</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="n">N</span><span class="p">))</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">rla</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="n">recs</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="c1"># group by agorithm</span>
<span class="n">model_metrics</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">list_summary</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then use <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" rel="noreferrer" target="_blank" title="(in pandas v2.3.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_latex()</span></code></a> to convert <code class="docutils literal notranslate"><span class="pre">algo_scores</span></code>
to a LaTeX table to include in your paper.</p>
</section>
<section id="citing-lenskit">
<h2>Citing LensKit<a class="headerlink" href="#citing-lenskit" title="Link to this heading">#</a></h2>
<p>Finally, cite <a class="reference internal" href="../research/index.html#lkpy" id="id2"><span>[LKPY]</span></a> as the package used for producing and/or evaluating
recommendations.</p>
<div role="list" class="citation-list">
<div class="citation" id="lkpy" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">LKPY</a><span class="fn-bracket">]</span></span>
<p>Michael D. Ekstrand. 2020.
LensKit for Python: Next-Generation Software for Recommender Systems Experiments.
In &lt;cite&gt;Proceedings of the 29th ACM International Conference on Information and Knowledge Management&lt;/cite&gt; (CIKM ‘20).
DOI:<a class="reference external" href="https://dx.doi.org/10.1145/3340531.3412778" rel="noreferrer" target="_blank">10.1145/3340531.3412778</a>.
arXiv:<a class="reference external" href="https://arxiv.org/abs/1809.03125" rel="noreferrer" target="_blank">1809.03125</a> [cs.IR].</p>
</div>
</div>
<div class="highlight-bibtex notranslate"><div class="highlight"><pre><span></span><span class="nc">@INPROCEEDINGS</span><span class="p">{</span><span class="nl">lkpy</span><span class="p">,</span>
<span class="na">title</span><span class="w">           </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;{LensKit} for {Python}: Next-Generation Software for</span>
<span class="s">                    Recommender System Experiments&quot;</span><span class="p">,</span>
<span class="na">booktitle</span><span class="w">       </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Proceedings of the 29th {ACM} International Conference on</span>
<span class="s">                    Information and Knowledge Management&quot;</span><span class="p">,</span>
<span class="na">author</span><span class="w">          </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Ekstrand, Michael D.&quot;</span><span class="p">,</span>
<span class="na">year</span><span class="w">            </span><span class="p">=</span><span class="w">  </span><span class="m">2020</span><span class="p">,</span>
<span class="na">url</span><span class="w">             </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;http://dx.doi.org/10.1145/3340531.3412778&quot;</span><span class="p">,</span>
<span class="na">conference</span><span class="w">      </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;CIKM &#39;20&quot;</span><span class="p">,</span>
<span class="na">doi</span><span class="w">             </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;10.1145/3340531.3412778&quot;</span>
<span class="nv">pages</span><span class="w">           </span><span class="err">=</span><span class="w"> </span><span class="err">&quot;2999--3006&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="evaluation/predictions.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Evaluating Rating Predictions</p>
      </div>
    </a>
    <a class="right-next"
       href="logging.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Logging and Progress Reporting</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-evaluation-problems-checklist">Common Evaluation Problems Checklist</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-algorithms">Reporting Algorithms</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-experimental-setup">Reporting Experimental Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-metrics">Reporting Metrics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#citing-lenskit">Citing LensKit</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/guide/documenting.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2018–2025 Drexel University, Boise State University, and collaborators.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">LensKit version 2025.3.0a4.dev637+g55e2d4d4.</div>
      
        <div class="footer-item"><p>
    This material is partially based upon work supported by the National Science Foundation under
    Grant Nos. <a href="https://md.ekstrandom.net/research/career" target="_blank">17-51278</a> and
    24-15042. Any opinions, findings, and conclusions or recommendations expressed in this material
    are those of the author(s) and do not necessarily reflect the views of the
    National Science Foundation, Drexel University, or Boise State University.</p>
</p></div>
      
        <div class="footer-item"><script data-goatcounter="https://lenskit.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>