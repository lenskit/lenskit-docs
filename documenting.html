
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Documenting Experiments" />
<meta property="og:type" content="website" />
<meta property="og:url" content="documenting.html" />
<meta property="og:site_name" content="LensKit" />
<meta property="og:description" content="When publishing results — either formally, through a venue such as ACM Recsys, or informally in your organization, it’s important to clearly and completely specify how the evaluation and algorithms..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="/_images/social_previews/summary_documenting_bb4cbdeb.png" />
<meta property="og:image:alt" content="When publishing results — either formally, through a venue such as ACM Recsys, or informally in your organization, it’s important to clearly and completely s..." />
<meta name="description" content="When publishing results — either formally, through a venue such as ACM Recsys, or informally in your organization, it’s important to clearly and completely specify how the evaluation and algorithms..." />
<meta name="twitter:card" content="summary_large_image" />

    <title>Documenting Experiments &#8212; LensKit 0.15.0.dev1158+gbaa53597 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9a71023d"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'documenting';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://lkpy.lenskit.org/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2024.0dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="canonical" href="https://lkpy.lenskit.org/en/latest/documenting.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Parallel Execution" href="parallel.html" />
    <link rel="prev" title="Top-N Evaluation" href="evaluation/topn-metrics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/LKLogo2.png" class="logo__image only-light" alt="LensKit 0.15.0.dev1158+gbaa53597 documentation - Home"/>
    <script>document.write(`<img src="_static/LKLogo2.png" class="logo__image only-dark" alt="LensKit 0.15.0.dev1158+gbaa53597 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    LensKit
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install LensKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="releases/index.html">Release Notes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="releases/2024.html">2024 Releases</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/lenskit/lkpy/releases">Older Versions</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Running Experiments</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data.html">Data Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="splitting.html">Splitting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch.html">Batch-Running Recommenders</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="evaluation/index.html">Evaluating Recommender Output</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="evaluation/predict-metrics.html">Prediction Accuracy Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation/topn-metrics.html">Top-<em>N</em> Evaluation</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Documenting Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel.html">Parallel Execution</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Algorithms</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Algorithm Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Recommendation Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithm Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic and Utility Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="ranking.html">Ranking Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="bias.html">Bias</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="knn.html">k-NN Collaborative Filtering</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="mf.html">Classic Matrix Factorization</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="addons/index.html">Add-On Algorithms</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="addons/implicit.html">Implicit wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="addons/hpf.html">Poisson factorization</a></li>
<li class="toctree-l2"><a class="reference external" href="https://lkpy.lenskit.org/projects/lenskit-tf/">TensorFlow algorithms</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tips and Tricks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagnostics.html">Errors and Diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="impl-tips.html">Algorithm Implementation Tips</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Configuration and Internals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="util.html">Utility Functions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="math.html">Math utilities</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">LensKit Internals</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="header-article-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Documenting Experiments</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-evaluation-problems-checklist">Common Evaluation Problems Checklist</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-algorithms">Reporting Algorithms</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-experimental-setup">Reporting Experimental Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-metrics">Reporting Metrics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#citing-lenskit">Citing LensKit</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="documenting-experiments">
<h1>Documenting Experiments<a class="headerlink" href="#documenting-experiments" title="Link to this heading">#</a></h1>
<p>When publishing results — either formally, through a venue such as ACM Recsys,
or informally in your organization, it’s important to clearly and completely
specify how the evaluation and algorithms were run.</p>
<p>Since LensKit is a toolkit of individual pieces that you combine into your
experiment however best fits your work, there is not a clear mechanism for
automating this reporting.  This document is to provide guidance for what and
how you should report, and how it maps to the LensKit code you are using.</p>
<section id="common-evaluation-problems-checklist">
<h2>Common Evaluation Problems Checklist<a class="headerlink" href="#common-evaluation-problems-checklist" title="Link to this heading">#</a></h2>
<p>This checklist is to help you make sure that your evaluation and results are
accurately reported.</p>
<ul class="simple">
<li><p>Pass <cite>include_missing=True</cite> to <a class="reference internal" href="evaluation/topn-metrics.html#lenskit.topn.RecListAnalysis.compute" title="lenskit.topn.RecListAnalysis.compute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute()</span></code></a>. This
operation defaults to <cite>False</cite> for compatiability reasons, but the default will
change in the future.</p></li>
<li><p>Correctly fill missing values from the evaluation metric results.  They are
reported as <cite>NaN</cite> (Pandas NA) so you can distinguish between empty lists and
lists with no relevant items, but should be appropraitely filled before
computing aggregates.</p></li>
<li><p>Pass <cite>k</cite> to <a class="reference internal" href="evaluation/topn-metrics.html#lenskit.topn.RecListAnalysis.add_metric" title="lenskit.topn.RecListAnalysis.add_metric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_metric()</span></code></a> with the
target list length for your experiment.  LensKit cannot reliably detect how
long you intended to make the recommendation lists, so you need to specify the
intended length to the metrics in order to correctly account for it.</p></li>
</ul>
</section>
<section id="reporting-algorithms">
<h2>Reporting Algorithms<a class="headerlink" href="#reporting-algorithms" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is still in progress.</p>
</div>
<p>You need to clearly report the algorithms that you have used along with their
hyperparameters.</p>
<p>The algorithm name should be the name of the class that you used (e.g.
<a class="reference internal" href="knn.html#lenskit.algorithms.knn.ItemItem" title="lenskit.algorithms.knn.ItemItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ItemItem</span></code></a>). The hyperparameters are the
options specified to the constructor, except for options that only affect
algorithn peformance but not behavior.</p>
<p>For example:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Algorithm</p></th>
<th class="head"><p>Hyperparameters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ItemItem</p></td>
<td><p><span class="math notranslate nohighlight">\(k_\mathrm{max}=20, k_\mathrm{min}=2, s_\mathrm{min}=1.0\times 10^{-3}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>ImplicitMF</p></td>
<td><p><span class="math notranslate nohighlight">\(k=50, \lambda_u=0.1, \lambda_i=0.1, w=40\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>If you use a top-N implementation other than the default
<code class="xref py py-class docutils literal notranslate"><span class="pre">TopN</span></code>, or reconfigure its candidate
selector, also clearly document that.</p>
</section>
<section id="reporting-experimental-setup">
<h2>Reporting Experimental Setup<a class="headerlink" href="#reporting-experimental-setup" title="Link to this heading">#</a></h2>
<p>The important things to document are the data splitting strategy, the target
recommendation list length, and the candidate selection strategy (if something
other than the default of all unrated items is used).</p>
<p>If you use one of LensKit’s built-in splitting strategies from <code class="xref py py-class docutils literal notranslate"><span class="pre">crossfold</span></code>
without modification, report:</p>
<ul class="simple">
<li><p>The splitting function used.</p></li>
<li><p>The number of partitions or test samples.</p></li>
<li><p>The number of users per sample (when using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sample_users</span></code>) or ratings per sample (when using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sample_ratings</span></code>).</p></li>
<li><p>When using a user-based strategy (either
<code class="xref py py-class docutils literal notranslate"><span class="pre">partition_users</span></code> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">sample_users</span></code>), the test rating selection
strategy (class and parameters), e.g. <code class="docutils literal notranslate"><span class="pre">SampleN(5)</span></code>.</p></li>
</ul>
<p>Any additional pre-processing (e.g. filtering ratings) should also be clearly
described.  If additional test pre-processing is done, such as removing ratings
below a threshold, document that as well.</p>
<p>Since the experimental protocol is implemented directly in Python code,
automated reporting is not practical.</p>
</section>
<section id="reporting-metrics">
<h2>Reporting Metrics<a class="headerlink" href="#reporting-metrics" title="Link to this heading">#</a></h2>
<p>Reporting the metrics themelves is relatively straightforward.  The
<a class="reference internal" href="evaluation/topn-metrics.html#lenskit.topn.RecListAnalysis.compute" title="lenskit.topn.RecListAnalysis.compute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lenskit.topn.RecListAnalysis.compute()</span></code></a> method will return a data frame
with a metric score for each list.  Group those by algorithm and report the
resulting scores (typically with a mean).</p>
<p>The following code will produce a table of algorithm scores for hit rate, nDCG
and MRR, assuming that your algorithm identifier is in a column named <code class="docutils literal notranslate"><span class="pre">algo</span></code>
and the target list length is in <code class="docutils literal notranslate"><span class="pre">N</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">rla</span> <span class="o">=</span> <span class="n">RecListAnalysis</span><span class="p">()</span>
<span class="n">rla</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">topn</span><span class="o">.</span><span class="n">hit</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">rla</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">topn</span><span class="o">.</span><span class="n">ndcg</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">rla</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">topn</span><span class="o">.</span><span class="n">recip_rank</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">scores</span> <span class="o">=</span> <span class="n">rla</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">recs</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">include_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># empty lists will have na scores</span>
<span class="n">scores</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># group by agorithm</span>
<span class="n">algo_scores</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;algorithm&#39;</span><span class="p">)[[</span><span class="s1">&#39;hit&#39;</span><span class="p">,</span> <span class="s1">&#39;ndcg&#39;</span><span class="p">,</span> <span class="s1">&#39;recip_rank&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">algo_scores</span> <span class="o">=</span> <span class="n">algo_scores</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;hit&#39;</span><span class="p">:</span> <span class="s1">&#39;HR&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="s1">&#39;nDCG&#39;</span><span class="p">,</span>
    <span class="s1">&#39;recip_rank&#39;</span><span class="p">:</span> <span class="s1">&#39;MRR&#39;</span>
<span class="p">})</span>
</pre></div>
</div>
<p>You can then use <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="(in pandas v2.2.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.to_latex()</span></code></a> to convert <code class="docutils literal notranslate"><span class="pre">algo_scores</span></code>
to a LaTeX table to include in your paper.</p>
</section>
<section id="citing-lenskit">
<h2>Citing LensKit<a class="headerlink" href="#citing-lenskit" title="Link to this heading">#</a></h2>
<p>Finally, cite <a class="reference internal" href="index.html#lkpy" id="id1"><span>[LKPY]</span></a> as the package used for producing and/or evaluating
recommendations.</p>
<div role="list" class="citation-list">
<div class="citation" id="lkpy" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">LKPY</a><span class="fn-bracket">]</span></span>
<p>Michael D. Ekstrand. 2020.
LensKit for Python: Next-Generation Software for Recommender Systems Experiments.
In &lt;cite&gt;Proceedings of the 29th ACM International Conference on Information and Knowledge Management&lt;/cite&gt; (CIKM ‘20).
DOI:<a class="reference external" href="https://dx.doi.org/10.1145/3340531.3412778">10.1145/3340531.3412778</a>.
arXiv:<a class="reference external" href="https://arxiv.org/abs/1809.03125">1809.03125</a> [cs.IR].</p>
</div>
</div>
<div class="highlight-bibtex notranslate"><div class="highlight"><pre><span></span><span class="nc">@INPROCEEDINGS</span><span class="p">{</span><span class="nl">lkpy</span><span class="p">,</span>
<span class="na">title</span><span class="w">           </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;{LensKit} for {Python}: Next-Generation Software for</span>
<span class="s">                    Recommender System Experiments&quot;</span><span class="p">,</span>
<span class="na">booktitle</span><span class="w">       </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Proceedings of the 29th {ACM} International Conference on</span>
<span class="s">                    Information and Knowledge Management&quot;</span><span class="p">,</span>
<span class="na">author</span><span class="w">          </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Ekstrand, Michael D.&quot;</span><span class="p">,</span>
<span class="na">year</span><span class="w">            </span><span class="p">=</span><span class="w">  </span><span class="m">2020</span><span class="p">,</span>
<span class="na">url</span><span class="w">             </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;http://dx.doi.org/10.1145/3340531.3412778&quot;</span><span class="p">,</span>
<span class="na">conference</span><span class="w">      </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;CIKM &#39;20&quot;</span><span class="p">,</span>
<span class="na">doi</span><span class="w">             </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;10.1145/3340531.3412778&quot;</span>
<span class="nv">pages</span><span class="w">           </span><span class="err">=</span><span class="w"> </span><span class="err">&quot;2999--3006&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="evaluation/topn-metrics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Top-<em>N</em> Evaluation</p>
      </div>
    </a>
    <a class="right-next"
       href="parallel.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Parallel Execution</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-evaluation-problems-checklist">Common Evaluation Problems Checklist</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-algorithms">Reporting Algorithms</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-experimental-setup">Reporting Experimental Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-metrics">Reporting Metrics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#citing-lenskit">Citing LensKit</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Michael D. Ekstrand
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2018–2024 Drexel University, Boise State University, and collaborators.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>